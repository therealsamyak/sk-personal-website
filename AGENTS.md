# Agent Guidelines for sk-personal-website

## Commands

**Development:** `bun run dev`

**Build:** `bun run build`

**Lint & Format:** `bun run check` (runs oxlint --fix + oxfmt)

**Pre-commit:** Lefthook automatically runs lint and format on staged files before commit.

**No test suite** exists in this codebase.

## Code Style

### Formatting (oxfmt)

- No semicolons
- Double quotes
- Trailing commas
- 2-space indentation
- LF line endings

### Import Ordering

1. External libraries (alphabetical)
2. Next.js imports
3. Internal config
4. UI components (@/ui/\*)

```tsx
import { Linkedin } from "lucide-react"
import Image from "next/image"
import { personalInfo } from "@/config/site"
import { Button } from "@/ui/button"
```

### TypeScript

- **Strict mode** enabled
- **Path aliases**: `@/*`, `@/components/*`, `@/lib/*`, `@/ui/*`, `@/config/*`
- Props: Define interfaces extending config types when possible

### Component Structure

- **PascalCase** for components: `AboutSection`, `ContactForm`
- **Barrel exports**: Every component folder has `index.tsx` with `export * from "./ComponentName"`
- **Simple components**: Arrow functions: `export const AboutSection = () => (...)`
- **Complex components**: Regular functions with body

### Server vs Client

- **Default**: Server components (no "use client" directive)
- **Client components**: Only add "use client" for interactivity (forms, state, browser APIs)
- **Server actions**: Use `"use server"` directive for form submissions and mutations

### Form Handling

- **Client**: React Hook Form + Zod validation
- **Server**: Server actions with validation pipeline
- **Security**: Cloudflare Turnstile for spam protection, input sanitization
- **Error handling**: Generic messages to avoid info leakage

### State Management

- Minimal useState usage
- No useReducer, useContext, or complex state patterns
- Prefer component-level state over global state

### Event Handlers

- **Good**: Inline handlers with descriptive actions
- **Avoid**: Generic `handleClick`, `handleSubmit` functions

```tsx
// Good
onClick={() => {
  window.open(url, "_blank")
  setMobileMenuOpen(false)
}}

// Bad
onClick={handleClick}
```

### shadcn/ui

- **Do not modify** components in `components/ui/` (generated by shadcn CLI)
- Import pattern: `import { Button } from "@/ui/button"`

### Tailwind

- Utility-first approach
- Responsive pattern: `base sm: md: lg:`
- Semantic color tokens: `bg-background`, `text-foreground`, etc.

## React Red Flags

ðŸš© Generic `handleClick` / `handleSubmit`

- Poorly named, loses colocation, need new names each time
- Use inline handlers with descriptive function names instead

ðŸš© Overusing `useMemo`

- Only memoize props passed to expensive children
- Leaf components can over-render without issues
- React Compiler handles memoization when enabled

ðŸš© `<div onClick>`

- Use proper buttons with keyboard control and accessibility
- Divs are not interactive elements

ðŸš© `fetch` inside `useEffect`

- Prefer server actions or data fetching libraries
- Effects run more often than expected

ðŸš© Unnecessary `useEffect`

- Read https://react.dev/learn/you-might-not-need-an-effect
- Only use for browser APIs, subscriptions, external integrations

ðŸš© "hooks" directory

- Co-locate hooks with components that use them
- Separating by function type splits related code

ðŸš© Multiple CSS files

- One global CSS file is fine (e.g., globals.css with shadcn/ui)
- Multiple CSS files indicate architectural issues
